<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Olynt — Pay</title>
  <link rel="stylesheet" href="./styles.css" />

  <!-- Ethers v6 -->
  <script type="module">
    import "./app.js";
  </script>
</head>

<body>
  <div class="wrap">
    <div class="nav">
      <div class="brand">
        <div class="logoBox">▦</div>
        <div>
          <div style="font-weight:900">Olynt</div>
          <div class="small">Customer checkout</div>
        </div>
      </div>
      <div class="pills">
        <a class="pill" href="./index.html">POS</a>
        <a class="pill" href="./create-link.html">Create Link</a>
        <a class="pill active" href="./pay.html">Pay</a>
      </div>
    </div>

    <div id="status" class="status ok">Ready to pay.</div>

    <div class="card">
      <h2 style="margin:0 0 10px">Payment</h2>

      <div class="kv">
        <div class="small">Merchant</div><div><code id="pMerchant">—</code></div>
        <div class="small">Network</div><div><b id="pNetwork">—</b></div>
        <div class="small">Token</div><div><b id="pToken">—</b></div>
        <div class="small">Amount</div><div><b id="pAmount">—</b></div>
        <div class="small">Fee (2%)</div><div><b id="pFee">—</b></div>
        <div class="small">Total</div><div><b id="pTotal">—</b></div>
        <div class="small">Memo</div><div><code id="pMemo">—</code></div>
      </div>

      <hr/>

      <div id="staticAmountBox" style="display:none">
        <label>Enter amount (Static QR)</label>
        <input id="pAmountInput" inputmode="decimal" placeholder="25.00" />
      </div>

      <div class="actions">
        <button class="btn" id="btnConnect" type="button">Connect Wallet</button>
        <button class="btn primary" id="btnPay" type="button">Pay Now</button>
      </div>

      <div id="walletRow" class="small" style="margin-top:10px">
        Wallet: <b id="walletAddr">—</b> • Network: <b id="walletNet">—</b>
      </div>

      <div id="openWalletBox" style="display:none;margin-top:12px">
        <div class="status warn">
          No wallet injected (Safari/normal browser). Tap a button to open this checkout inside a wallet browser:
          <div class="actions" style="margin-top:10px">
            <a class="btn" id="openMM" href="#">Open in MetaMask</a>
            <a class="btn" id="openCB" href="#">Open in Coinbase Wallet</a>
            <a class="btn" id="openTW" href="#">Open in Trust Wallet</a>
          </div>
          <div class="small" style="margin-top:8px">If your wallet blocks it, copy the URL and paste inside the wallet browser.</div>
        </div>
      </div>

      <div id="receiptBox" style="display:none;margin-top:12px" class="status ok">
        Receipt (tx hash): <code id="txHash">—</code><br/>
        Explorer: <a id="txLink" class="btn" href="#" target="_blank" rel="noreferrer">View</a>
      </div>

      <div class="small" style="margin-top:12px">
        Non-custodial: customer pays merchant directly on-chain. Fees go to treasury: <code>0x1a60…b172</code>
      </div>
    </div>

    <div class="small" style="text-align:center;margin-top:14px;opacity:.8">
  © 2026 Olynt ·
  <a href="./terms.html" style="color:#aaa;text-decoration:none">Terms</a> ·
  <a href="./privacy.html" style="color:#aaa;text-decoration:none">Privacy</a> ·
  <a href="./merchants.html" style="color:#aaa;text-decoration:none">Merchants</a>
</div>
</body>
</html>
